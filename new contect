<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contact Us | Chinese Association of Mississauga</title>

  <!-- 公共导航/页脚样式 -->
  <link rel="stylesheet" href="cam-layout.css" />

  <!-- 本页 Contact 专属样式（不覆盖公共导航/页脚） -->
  <style>
    :root{
      --brand:#2f8e2f; --brand-dark:#237023; --text:#1e293b; --bg:#f8fafc;
      --card:#ffffff; --shadow:0 8px 24px rgba(2,6,23,.08);
      --radius:14px; --ring:#1d4ed8; --teal:#1f9a8a; --line:#d4e9e3;
    }
    *{box-sizing:border-box}
    body{margin:0;font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;color:var(--text);background:var(--bg)}
    img{max-width:100%;height:auto;display:block}
    a{color:inherit;text-decoration:none}
    .container{max-width:1200px;margin-inline:auto;padding:0 20px}

    /* Page hero（与其它页风格一致） */
    .page-hero{background:#cfeee3;padding:32px 0;margin-bottom:18px;border-bottom:1px solid var(--line)}
    .page-hero h1{margin:0;text-align:center;font-size:clamp(28px,4.2vw,40px);color:var(--teal);font-weight:800;letter-spacing:.2px}

    /* 联系方式与表单 */
    .contact-section{margin:24px 0 32px;padding:20px;background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);border:1px solid #eef2f7}
    .contact-section h2{color:var(--teal);margin:0 0 14px}
    .contact-grid{display:grid;grid-template-columns:1.1fr 1fr;gap:26px}
    @media (max-width:900px){ .contact-grid{grid-template-columns:1fr} }
    .contact-info p{margin:.4rem 0;color:#475569}
    .contact-form{display:flex;flex-direction:column}
    .contact-form label{margin-bottom:6px;font-weight:700}
    .contact-form input,.contact-form textarea{
      margin-bottom:14px;padding:10px;border:1px solid #d1d5db;border-radius:8px;font-size:16px;outline:0
    }
    .contact-form input:focus,.contact-form textarea:focus{border-color:#60a5fa;box-shadow:0 0 0 3px rgba(29,78,216,.18)}
    .contact-form button{align-self:flex-start}

    /* 地图 */
    .map-section h2{color:var(--teal);margin:0 0 10px}
    .map-wrap{border-radius:14px;overflow:hidden;box-shadow:var(--shadow);border:1px solid #eef2f7}
  </style>
</head>
<body>
  <!-- Header（来自 cam-layout.css 的统一导航） -->
  <header>
    <div class="topbar container">
      <a class="logo" href="home.html" aria-label="Home">
        <img src="1.jpeg" alt="Chinese Association of Mississauga Logo" />
      </a>
      <div class="topbar-right">
        <!-- 三语切换 -->
        <div class="lang-switch" role="group" aria-label="Language">
          <button class="lang-btn" data-lang="en" aria-pressed="false">EN</button>
          <button class="lang-btn" data-lang="zh" aria-pressed="false">简</button>
          <button class="lang-btn" data-lang="zhHant" aria-pressed="false">繁</button>
        </div>

        <form class="search" role="search" action="search.html" method="GET">
          <input type="search" name="q" placeholder="Search …" aria-label="Search" />
          <button type="submit" aria-label="Submit search">
            <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
              <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/>
              <circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2" fill="none"/>
            </svg>
          </button>
        </form>

        <a class="btn btn-primary" href="Donate.html" role="button" data-i18n="btn.donate">DONATE</a>

        <button class="hamburger" aria-label="Open menu" aria-controls="drawer" aria-expanded="false" id="openMenu">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 6h18M3 12h18M3 18h18" stroke="#0f172a" stroke-width="2" stroke-linecap="round"/></svg>
        </button>
      </div>
    </div>

    <!-- 顶部导航 -->
    <div class="main-nav-wrap">
      <nav class="main-nav container" aria-label="Primary">
        <a href="home.html" data-i18n="nav.home">Home</a>
        <a href="about.html" data-i18n="nav.about">About Us</a>
        <a href="team.html" data-i18n="nav.team">Our Team</a>

        <!-- Services 下拉 -->
        <div class="dropdown" id="nav-services">
          <a href="services.html" class="drop-toggle" aria-haspopup="true" aria-expanded="false" data-i18n="nav.services">Services</a>
          <div class="drop-menu" role="menu" aria-label="Services">
            <a href="settlement.html" role="menuitem" data-i18n="nav.services.settlement">Settlement Services</a>
            <a href="language.html"   role="menuitem" data-i18n="nav.services.language">Language & Training</a>
            <a href="community.html"  role="menuitem" data-i18n="nav.services.community">Community Services</a>
          </div>
        </div>

        <a href="program.html" data-i18n="nav.program">Program</a>
        <a href="events.html" data-i18n="nav.events">Events</a>

        <!-- Join Us 下拉 -->
        <div class="dropdown" id="nav-join">
          <a href="join.html" class="drop-toggle" aria-haspopup="true" aria-expanded="false" data-i18n="nav.join">Join Us</a>
          <div class="drop-menu" role="menu" aria-label="Join Us">
            <a href="membership.html" role="menuitem" data-i18n="nav.join.membership">Membership</a>
            <a href="Volunteer.html"  role="menuitem" data-i18n="nav.join.volunteer">Volunteer</a>
            <a href="Donate.html"     role="menuitem" data-i18n="nav.join.donate">Donate</a>
          </div>
        </div>

        <a href="contact.html" aria-current="page" data-i18n="nav.contact">Contact Us</a>
      </nav>
    </div>
  </header>

  <!-- 抽屉导航（移动端） -->
  <aside class="drawer" id="drawer" aria-hidden="true">
    <header>
      <strong data-i18n="nav.menu">Menu</strong>
      <button class="btn" style="margin-left:auto" id="closeMenu" data-i18n="nav.close">Close</button>
    </header>
    <nav style="overflow:auto;padding-bottom:20px">
      <a href="home.html" data-i18n="nav.home">Home</a>
      <a href="about.html" data-i18n="nav.about">About Us</a>
      <a href="team.html" data-i18n="nav.team">Our Team</a>

      <button class="drawer-toggle" aria-expanded="false" aria-controls="drawer-services" data-i18n="nav.services">Services</button>
      <div id="drawer-services" class="drawer-submenu" role="group" aria-label="Services submenu">
        <a href="settlement.html" data-i18n="nav.services.settlement">Settlement Services</a>
        <a href="language.html"   data-i18n="nav.services.language">Language & Training</a>
        <a href="community.html"  data-i18n="nav.services.community">Community Services</a>
      </div>

      <a href="program.html" data-i18n="nav.program">Program</a>
      <a href="events.html" data-i18n="nav.events">Events</a>

      <button class="drawer-toggle" aria-expanded="false" aria-controls="drawer-join" data-i18n="nav.join">Join Us</button>
      <div id="drawer-join" class="drawer-submenu" role="group" aria-label="Join Us submenu">
        <a href="membership.html" data-i18n="nav.join.membership">Membership</a>
        <a href="Volunteer.html"  data-i18n="nav.join.volunteer">Volunteer</a>
        <a href="Donate.html"     data-i18n="nav.join.donate">Donate</a>
      </div>

      <a href="contact.html" data-i18n="nav.contact">Contact Us</a>
      <a href="Donate.html" data-i18n="btn.donate">DONATE</a>
    </nav>
  </aside>

  <!-- 页面横幅 -->
  <section class="page-hero">
    <div class="container">
      <h1 data-i18n="hero.contact">Contact Us</h1>
    </div>
  </section>

  <main class="container" id="main">
    <!-- 联系我们 -->
    <section class="contact-section" aria-label="Contact Us">
      <div class="contact-grid">
        <div class="contact-info">
          <h2 data-i18n="contact.title">Contact Us</h2>
          <p><strong data-i18n="footer.location">Our Location</strong><br/>1177 Central Pkwy W Unit 16, Mississauga, ON L5C 4P3</p>
          <p><strong data-i18n="footer.contact">Contact</strong><br/>info@chineseassociationmississauga.com<br/>(905) 275-8558</p>
          <p style="margin-top:10px;color:#64748b">
            Alternatively, email us at
            <a href="mailto:info@chineseassociationmississauga.com">info@chineseassociationmississauga.com</a>.
          </p>
        </div>

        <!-- 方案B：mailto 提交 -->
        <form class="contact-form" onsubmit="sendMailto(event)" aria-label="Contact form">
          <label for="name" data-i18n="contact.name">Name</label>
          <input type="text" id="name" name="name" required placeholder="Your Name" autocomplete="name" />

          <label for="email" data-i18n="contact.email">Email</label>
          <input type="email" id="email" name="email" required placeholder="Your Email" autocomplete="email" />

          <label for="message" data-i18n="contact.message">Message</label>
          <textarea id="message" name="message" rows="5" required placeholder="Your Message"></textarea>

          <button type="submit" class="btn btn-primary" data-i18n="contact.send">Send Message</button>
        </form>
      </div>
    </section>

    <!-- 地图 -->
    <section class="map-section" aria-label="Our Location">
      <h2 data-i18n="map.title">Find Us</h2>
      <div class="map-wrap" style="margin-top:12px">
        <iframe 
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2890.8279862264776!2d-79.66374982382769!3d43.568467271106215!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x882b4148ed766271%3A0x6d413a8ccd7bb67b!2z5a-G6KW_5rKZ5Yqg6I-v5Lq65Y2U5pyDIENoaW5lc2UgQXNzb2NpYXRpb24gb2YgTWlzc2lzc2F1Z2E!5e0!3m2!1sen!2sca!4v1755265720941!5m2!1sen!2sca"
          width="100%" height="400" style="border:0;" loading="lazy" allowfullscreen="" referrerpolicy="no-referrer-when-downgrade">
        </iframe>
      </div>
    </section>
  </main>

  <!-- Footer（统一样式与结构） -->
  <footer>
    <div class="footer-container">
      <div class="footer-section">
        <h4 data-i18n="footer.hours">Hours of Operations</h4>
        <p data-i18n="footer.hours_value">Mon To Fri: 9 am – 5 pm</p>
        <h4 data-i18n="footer.location">Our Location</h4>
        <p>1177 Central Pkwy W Unit 16, Mississauga, ON L5C 4P3</p>
        <a class="btn btn-primary" href="Donate.html" role="button" data-i18n="btn.donate">DONATE</a>
      </div>
      <div class="footer-section">
        <h4 data-i18n="footer.contact">Contact</h4>
        <p>info@chineseassociationmississauga.com</p>
        <p>Phone：(905) 275-8558</p>
        <div class="footer-social" aria-label="Social links">
          <!-- WeChat -->
          <a href="IMG_4315.JPG" target="_blank" rel="noopener" aria-label="WeChat QR" class="icon-btn">
            <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true">
              <circle cx="10" cy="10" r="6" fill="none" stroke="currentColor" stroke-width="1.8"/>
              <path d="M6.2 12.3l-2.4.8 1-2" fill="currentColor"/>
              <circle cx="8.2" cy="10" r="0.8" fill="currentColor"/>
              <circle cx="11.8" cy="10" r="0.8" fill="currentColor"/>
              <circle cx="16" cy="14" r="5" fill="none" stroke="currentColor" stroke-width="1.8"/>
              <path d="M18.8 17.3l2 .9-.6-2" fill="currentColor"/>
              <circle cx="14.6" cy="14" r="0.8" fill="currentColor"/>
              <circle cx="17.4" cy="14" r="0.8" fill="currentColor"/>
            </svg>
          </a>
          <!-- Instagram -->
          <a href="https://www.instagram.com/carassaugachinapavilion/?igsh=MWs3anpnNmlzM3M5YQ%3D%3D&utm_source=qr"
             target="_blank" rel="noopener" aria-label="Instagram" class="icon-btn">
            <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true">
              <rect x="3.5" y="3.5" width="17" height="17" rx="4" fill="none" stroke="currentColor" stroke-width="1.8"/>
              <circle cx="12" cy="12" r="4.2" fill="none" stroke="currentColor" stroke-width="1.8"/>
              <circle cx="17" cy="7" r="1.2" fill="currentColor"/>
            </svg>
          </a>
          <!-- Facebook -->
          <a href="https://www.facebook.com/chinapavilion.carassauga/"
             target="_blank" rel="noopener" aria-label="Facebook" class="icon-btn">
            <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true">
              <path d="M14 8h2V5h-2c-2.2 0-4 1.8-4 4v2H8v3h2v6h3v-6h2.4l.6-3H13V9c0-.6.4-1 1-1z" fill="currentColor"/>
            </svg>
          </a>
        </div>
      </div>
    </div>
    <div class="bottom" data-i18n="footer.copyright">© Chinese Association of Mississauga. All rights reserved.</div>
  </footer>

  <!-- ===== 多语言字典（统一 cam_lang） ===== -->
  <script>
    const I18N = {
      en: {
        "nav.menu":"Menu","nav.close":"Close",
        "nav.home":"Home","nav.about":"About Us","nav.team":"Our Team","nav.services":"Services",
        "nav.services.settlement":"Settlement Services","nav.services.language":"Language & Training","nav.services.community":"Community Services",
        "nav.program":"Program","nav.events":"Events","nav.join":"Join Us","nav.contact":"Contact Us",
        "nav.join.membership":"Membership","nav.join.volunteer":"Volunteer","nav.join.donate":"Donate",

        "btn.donate":"DONATE",

        "hero.contact":"Contact Us",
        "contact.title":"Contact Us",
        "contact.name":"Name","contact.email":"Email","contact.message":"Message","contact.send":"Send Message",
        "ph.search":"Search …","ph.name":"Your Name","ph.email":"Your Email","ph.message":"Your Message",

        "map.title":"Find Us",

        "footer.hours":"Hours of Operations","footer.hours_value":"Mon To Fri: 9 am – 5 pm",
        "footer.location":"Our Location","footer.contact":"Contact",
        "footer.copyright":"© Chinese Association of Mississauga. All rights reserved."
      },
      zh: {
        "nav.menu":"菜单","nav.close":"关闭",
        "nav.home":"首页","nav.about":"关于我们","nav.team":"团队","nav.services":"服务",
        "nav.services.settlement":"安居服务","nav.services.language":"语言与培训","nav.services.community":"社区服务",
        "nav.program":"课程/项目","nav.events":"活动","nav.join":"加入我们","nav.contact":"联系我们",
        "nav.join.membership":"加入会员","nav.join.volunteer":"申请志愿者","nav.join.donate":"捐款",

        "btn.donate":"捐赠",

        "hero.contact":"联系我们",
        "contact.title":"联系我们",
        "contact.name":"姓名","contact.email":"邮箱","contact.message":"留言","contact.send":"发送消息",
        "ph.search":"搜索…","ph.name":"您的姓名","ph.email":"您的邮箱","ph.message":"您的留言",

        "map.title":"找到我们",

        "footer.hours":"开放时间","footer.hours_value":"周一至周五：9:00 – 17:00",
        "footer.location":"地址","footer.contact":"联系方式",
        "footer.copyright":"© 密西沙加华人协会 保留所有权利"
      },
      zhHant: {
        "nav.menu":"選單","nav.close":"關閉",
        "nav.home":"首頁","nav.about":"關於我們","nav.team":"團隊","nav.services":"服務",
        "nav.services.settlement":"安居服務","nav.services.language":"語言與培訓","nav.services.community":"社區服務",
        "nav.program":"課程／項目","nav.events":"活動","nav.join":"加入我們","nav.contact":"聯絡我們",
        "nav.join.membership":"加入會員","nav.join.volunteer":"申請義工","nav.join.donate":"捐款",

        "btn.donate":"捐贈",

        "hero.contact":"聯絡我們",
        "contact.title":"聯絡我們",
        "contact.name":"姓名","contact.email":"電郵","contact.message":"訊息","contact.send":"送出訊息",
        "ph.search":"搜尋…","ph.name":"您的姓名","ph.email":"您的電郵","ph.message":"您的訊息",

        "map.title":"找到我們",

        "footer.hours":"開放時間","footer.hours_value":"週一至週五：9:00 – 17:00",
        "footer.location":"地址","footer.contact":"聯絡方式",
        "footer.copyright":"© 密西沙加華人協會 保留所有權利"
      }
    };

    const LANGS = ["en","zh","zhHant"];

    function applyI18n(lang){
      // 文本节点
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const key = el.getAttribute('data-i18n');
        const val = I18N[lang]?.[key];
        if(typeof val === 'string') el.textContent = val;
      });

      // 占位符
      const q = document.querySelector('.search input[name="q"]');
      if(q) q.placeholder = I18N[lang]?.["ph.search"] || "Search …";
      const nameInput  = document.getElementById('name');
      const emailInput = document.getElementById('email');
      const msgInput   = document.getElementById('message');
      if(nameInput)  nameInput.placeholder  = I18N[lang]?.["ph.name"]    || nameInput.placeholder;
      if(emailInput) emailInput.placeholder = I18N[lang]?.["ph.email"]   || emailInput.placeholder;
      if(msgInput)   msgInput.placeholder   = I18N[lang]?.["ph.message"] || msgInput.placeholder;

      // html lang & 胶囊状态
      document.documentElement.lang = (lang==="en") ? "en" : (lang==="zh" ? "zh-Hans" : "zh-Hant");
      LANGS.forEach(code=>{
        const btn = document.querySelector(`.lang-btn[data-lang="${code}"]`);
        if(btn) btn.setAttribute('aria-pressed', String(code===lang));
      });
    }

    // —— 统一语言：迁移旧 'lang' -> 'cam_lang'，以后只用 'cam_lang'
    (function(){
      const legacy = localStorage.getItem('lang');
      if (legacy && !localStorage.getItem('cam_lang')) localStorage.setItem('cam_lang', legacy);
      localStorage.removeItem('lang');
      const saved = localStorage.getItem('cam_lang') || 'zh';
      applyI18n(saved);
    })();

    // 语言按钮：只写 cam_lang
    document.querySelectorAll('.lang-btn').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const lang = btn.getAttribute('data-lang');
        localStorage.setItem('cam_lang', lang);
        applyI18n(lang);
      });
    });

    // ====== 方案B：mailto 发送 ======
    function sendMailto(e){
      e.preventDefault();

      const name = (document.getElementById('name')?.value || '').trim();
      const email = (document.getElementById('email')?.value || '').trim();
      const message = (document.getElementById('message')?.value || '').trim();

      if(!name || !email || !message){
        alert('请填写完整：姓名、邮箱、留言。');
        return;
      }
      if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){
        alert('邮箱格式不正确。');
        return;
      }

      const subject = 'CAM Website Contact';
      const body = `Name: ${name}\nEmail: ${email}\n\nMessage:\n${message}`;

      let url = `mailto:info@chineseassociationmississauga.com?subject=${
        encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;

      // 避免某些浏览器的 URL 长度限制问题
      if (url.length > 1800) {
        const truncated = message.slice(0, 1000) + '…';
        const body2 = `Name: ${name}\nEmail: ${email}\n\nMessage:\n${truncated}`;
        url = `mailto:info@chineseassociationmississauga.com?subject=${
          encodeURIComponent(subject)}&body=${encodeURIComponent(body2)}`;
      }
      window.location.href = url;
    }
  </script>

  <!-- 交互脚本：下拉、抽屉 -->
  <script>
    // 桌面下拉（Services / Join Us）
    function bindDropdown(id){
      const dd = document.getElementById(id);
      if(!dd) return;
      const toggle = dd.querySelector('.drop-toggle');
      let timer;
      const open = ()=>{ clearTimeout(timer); dd.classList.add('open'); toggle?.setAttribute('aria-expanded','true'); };
      const close= ()=>{ clearTimeout(timer); timer=setTimeout(()=>{ dd.classList.remove('open'); toggle?.setAttribute('aria-expanded','false'); },140); };
      dd.addEventListener('mouseenter', open);
      dd.addEventListener('mouseleave', close);
      dd.addEventListener('focusin', open);
      dd.addEventListener('keydown', (e)=>{ if(e.key==='Escape'){ close(); toggle?.focus(); }});
    }
    bindDropdown('nav-services');
    bindDropdown('nav-join');

    // 抽屉开关
    (function(){
      const drawer = document.getElementById('drawer');
      const openBtn = document.getElementById('openMenu');
      const closeBtn = document.getElementById('closeMenu');
      function setDrawer(open){
        if(!drawer) return;
        drawer.classList.toggle('open', open);
        drawer.setAttribute('aria-hidden', open ? 'false' : 'true');
        if(openBtn) openBtn.setAttribute('aria-expanded', open ? 'true' : 'false');
        document.body.style.overflow = open ? 'hidden' : '';
      }
      openBtn?.addEventListener('click', ()=> setDrawer(true));
      closeBtn?.addEventListener('click', ()=> setDrawer(false));
      drawer?.addEventListener('click', (e)=> { if(e.target === drawer) setDrawer(false) });
      window.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && drawer?.classList.contains('open')) setDrawer(false) });

      // 抽屉折叠
      function bindDrawerToggle(ctrlId){
        const t = document.querySelector(`.drawer-toggle[aria-controls="${ctrlId}"]`);
        const panel = document.getElementById(ctrlId);
        if(!t || !panel) return;
        t.addEventListener('click', ()=>{
          const isOpen = t.getAttribute('aria-expanded') === 'true';
          t.setAttribute('aria-expanded', String(!isOpen));
          panel.classList.toggle('open', !isOpen);
        });
      }
      bindDrawerToggle('drawer-services');
      bindDrawerToggle('drawer-join');
    })();
  </script>
</body>
</html>
